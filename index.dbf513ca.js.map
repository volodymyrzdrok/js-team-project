{"mappings":"gpBAAA,IAAAA,EAAAC,EAAA,S,8EAQOC,eAAeC,EAAgBC,GACpC,MAAMC,EAAaD,EAAEE,OAAOC,QAAQ,+BAC9BC,EAAiBJ,EAAEE,OAAOC,QAAQ,6BAExC,IAAKF,IAAeG,EAAgB,OACpC,GAAIA,EAEF,YADA,EAAAC,EAAAC,6BAA4BF,GAI9B,MAAMG,EAAaN,EAAWO,QAAQC,WAEtC,KAQF,SAAmBC,GACAC,EAAAC,QAAqB,EAAAC,EAAAC,iBAAgBJ,GAAO,CAC3DK,OAAQC,IACN,MAAMC,EAAYD,EAASE,UAC3BtB,EAAAuB,KAAKC,QAAQC,MAAMC,SAAW,SAE9BL,EACGM,cAAc,oBACdC,iBAAiB,QAASC,EAAAC,kBAC7BT,EACGM,cAAc,+BACdC,iBAAiB,QAASR,EAASW,OAClCC,EAAAC,4BACFZ,EACGM,cAAc,8BACdC,iBAAiB,QAASR,EAASW,MAAM,EAGhDG,QAAS,KACPlC,EAAAuB,KAAKC,QAAQC,MAAMC,SAAW,MAAM,IAG/BS,M,CA5BPC,OADmB,EAAAC,EAAAC,sBAAqB3B,G,CAExC,MAAO4B,GACPC,QAAQC,IAAIF,E","sources":["src/js/modals/modalInfoCoctail.js"],"sourcesContent":["import { refs } from '../refs/refs';\nimport { fetchInfoProductById } from '../api/api';\nimport { markupModalInfo } from '../templates/markupInfoCoctail';\nimport * as basicLightbox from 'basiclightbox';\nimport { modalIngredients } from './ modalInfoIngredient';\nimport { changeProductInLocalStorage } from '../localStorage/getProductsInLocalStorage';\nimport { checkFavCocktailsIndexFile } from '../utils/constans';\n\nexport async function renderModalCard(e) {\n  const elBtnLearn = e.target.closest('.products__card-btns--learn');\n  const elBtnToStorage = e.target.closest('.products__card-btns--add');\n\n  if (!elBtnLearn && !elBtnToStorage) return;\n  if (elBtnToStorage) {\n    changeProductInLocalStorage(elBtnToStorage);\n    return;\n  }\n\n  const cocktailId = elBtnLearn.dataset.idbtnlearn;\n\n  try {\n    const data = await fetchInfoProductById(cocktailId);\n    openModal(data);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction openModal(data) {\n  const instance = basicLightbox.create(markupModalInfo(data), {\n    onShow: instance => {\n      const elInModal = instance.element();\n      refs.bodyRef.style.overflow = 'hidden';\n\n      elInModal\n        .querySelector('.cocktails-modal')\n        .addEventListener('click', modalIngredients);\n      elInModal\n        .querySelector('.cocktails-modal__close-btn')\n        .addEventListener('click', instance.close);\n      if (checkFavCocktailsIndexFile) {\n        elInModal\n          .querySelector('.cocktails-modal__main-btn')\n          .addEventListener('click', instance.close);\n      }\n    },\n    onClose: () => {\n      refs.bodyRef.style.overflow = 'auto';\n    },\n  });\n  instance.show();\n}\n"],"names":["$3ILHO","parcelRequire","async","$144125064403c38d$export$a3e6c44bf8af687b","e","elBtnLearn","target","closest","elBtnToStorage","$7YQeJ","changeProductInLocalStorage","cocktailId","dataset","idbtnlearn","data","$9B8F0","create","$3Kw4o","markupModalInfo","onShow","instance","elInModal","element","refs","bodyRef","style","overflow","querySelector","addEventListener","$iLml6","modalIngredients","close","$hhykh","checkFavCocktailsIndexFile","onClose","show","$144125064403c38d$var$openModal","$4emys","fetchInfoProductById","error","console","log"],"version":3,"file":"index.dbf513ca.js.map"}