{"mappings":"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","sources":["src/js/templates/markupSearchingCocktails.js","src/js/getProducts/getInfoCocktail.js","src/js/templates/markupInfoCoctail.js"],"sourcesContent":["import { getDataLocalStorage } from '../api/localStorageFavcCocktails';\nimport { FAV_COCKTAILS } from '../utils/constans';\n\nexport const markupSearchingCocktails = arrDrinks => {\n  const favoriteCocktails = getDataLocalStorage(FAV_COCKTAILS);\n  return arrDrinks\n    .map(({ idDrink, strDrink, strDrinkThumb }) => {\n      const foundEl = favoriteCocktails.find(el => el.idDrink === idDrink);\n      const btnAdd = `<button class=\"products__btn--add\" data-id=\"${idDrink}\"  data-action=\"${\n        foundEl ? 'remove' : 'add'\n      }\"> ${!foundEl ? 'add to' : 'remove'}  </button>`;\n\n      return `<li  class=\"products__item\" data-id=\"${idDrink}\" >\n          <p class=\"products__name\">${strDrink}</p>\n          <img src=\"${strDrinkThumb}\" alt=${strDrink} class=\"products__img\">\n              <div class=\"products__btns\" data-id=${idDrink} >\n      <button class=\"products__btn--info\" >Learn more</button>\n      ${btnAdd}\n    </div>\n        </li>`;\n    })\n    .join('');\n};\n","import * as basicLightbox from 'basiclightbox';\n\nimport { fetchInfoProductById } from '../api/api';\nimport { markupInfoCoctail } from '../templates/markupInfoCoctail';\nimport { onReject } from '../utils/utils';\nimport { getInfoIngredient } from './getInfoIngredient';\nimport { getProductsInLocalStorage } from '../localStorage/getProductsInLocalStorage';\nimport { checkFavCocktailsIndexFile, windowLocation } from '../utils/constans';\n\nexport async function getInfoCocktail(e) {\n  const el = e.target.closest('.products__btn--info');\n  const elInStorage = e.target.closest('.products__btn--add');\n  if (!el && !elInStorage) return;\n\n  if (elInStorage) {\n    const coctailId = elInStorage.parentNode.dataset.id;\n    const actionEl = elInStorage.dataset.action;\n    if (actionEl === 'add') {\n      elInStorage.dataset.action = 'remove';\n      elInStorage.textContent = 'remove';\n    } else {\n      if (checkFavCocktailsIndexFile) {\n        // /js-team-project/partials/favorite-cocktails.html\n        // /js-team-project/index.html\n        console.log('видаляю з розмітки');\n        e.target.closest('.products__item').remove();\n      }\n      elInStorage.dataset.action = 'add';\n      elInStorage.textContent = 'add to';\n    }\n    getProductsInLocalStorage(coctailId);\n    return;\n  }\n  const coctailId = el.parentNode.dataset.id;\n  try {\n    const result = await fetchInfoProductById(coctailId);\n    onResolve(...result.drinks);\n  } catch (error) {\n    onReject(error);\n  }\n}\n\nfunction onResolve(objProduct) {\n  if (!objProduct) return;\n\n  const instance = basicLightbox.create(\n    `\n      <div class =\"modal  modal__fav--coctails\"> ${markupInfoCoctail(\n        objProduct\n      )} </div>\n    `,\n    {\n      onShow: instance => {\n        const elementsInModal = instance.element();\n\n        elementsInModal\n          .querySelector('.modal__fav--coctails')\n          .addEventListener('click', getInfoIngredient);\n        elementsInModal\n          .querySelector('.modal-close')\n          .addEventListener('click', instance.close);\n        if (checkFavCocktailsIndexFile) {\n          elementsInModal\n            .querySelector('[data-action=\"remove\"]')\n            .addEventListener('click', instance.close);\n        }\n      },\n    }\n  );\n  instance.show();\n}\n","import { getDataLocalStorage } from '../api/localStorageFavcCocktails';\nimport { FAV_COCKTAILS } from '../utils/constans';\n\nexport function markupInfoCoctail(obj) {\n  const keysIngredients = Object.keys(obj).filter(el =>\n    el.includes('strIngredient')\n  );\n  const favoriteCocktails = getDataLocalStorage(FAV_COCKTAILS);\n  const { idDrink, strDrink, strDrinkThumb, strInstructions } = obj;\n  const foundEl = favoriteCocktails.find(el => el.idDrink === idDrink);\n\n  return `<div class=\"product-info modal__infoCocktail\">\n  <button class=\"modal-close\">CLOSE modal</button>\n  <button class=\"products__btn--add\" data-id=\"${idDrink}\" data-action=\"${\n    !foundEl ? 'add' : 'remove'\n  }\">\n   ${!foundEl ? 'add to' : 'remove'}\n  </button>\n  <div class=\"product-info__container\">\n    <img\n      src=\"${strDrinkThumb}\"\n      width=\"100\"\n      alt=\"${strDrink}\"\n      class=\"product-info__img\"\n    />\n    <h4 class=\"product-info__title\">${strDrink}</h4>\n\n    <ul class=\"product-info__list--ingr\">\n      ${keysIngredients\n        .map(key =>\n          obj[key]\n            ? `\n      <li class=\"product-info__item--ing\">\n        <span class=\"product-info__item--span\" > &sext; </span>\n        <a class=\"product-info__item--title\" href=\"#\">${obj[key]}</a>\n      </li>\n      `\n            : null\n        )\n        .join('')}\n      <li class=\"product-info__item--ing\"></li>\n    </ul>\n  </div>\n  <p>instruction</p>\n  <p>${strInstructions}</p>\n</div>`;\n}\n\n// import { getDataLocalStorage } from '../api/localStorageFavcCocktails';\n\n// export function markupInfoCoctail(obj) {\n//   const favoriteCocktails = getDataLocalStorage();\n//   const keysIngredients = Object.keys(obj).filter(el =>\n//     el.includes('strIngredient')\n//   );\n//   const { idDrink, strDrink, strDrinkThumb, strInstructions } = obj;\n//   const foundEl = favoriteCocktails.find(el => el.idDrink === idDrink);\n"],"names":["$gugsX","parcelRequire","$a4226ab6bf38cc7d$export$c9026dcb6b31ebaa","arrDrinks","favoriteCocktails","getDataLocalStorage","$9l38W","FAV_COCKTAILS","map","param","idDrink","strDrink","strDrinkThumb","foundEl","find","el","btnAdd","concat","join","$bpxeT","$90c3b78db6c5771b$export$e5d3d07a2f819327","e","$90c3b78db6c5771b$var$_getInfoCocktail","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","elInStorage","coctailId","coctailId1","result","target","closest","parentNode","dataset","id","action","textContent","checkFavCocktailsIndexFile","console","log","remove","$kAFNS","getProductsInLocalStorage","$1X4Nb","fetchInfoProductById","_ctx","sent","$90c3b78db6c5771b$var$onResolve","$8nrFW","drinks","$5mnqR","onReject","t0","objProduct","$dyT35","create","$jPJ3W","markupInfoCoctail","onShow","instance","elementsInModal","element","querySelector","addEventListener","$f2Hct","getInfoIngredient","close","show","$e705bc39bf281779$export$c737d3df9693e6f5","obj","keysIngredients","Object","keys","filter","includes","strInstructions","key"],"version":3,"file":"index.2d72bae9.js.map"}