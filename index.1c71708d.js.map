{"mappings":"gqBAAA,IAAAA,EAAAC,EAAA,S,aAGO,MAAMC,EAA2BC,IACtC,MAAMC,GAAoB,EAAAJ,EAAAK,qBAAoBC,EAAAC,eAC9C,OAAOJ,EACJK,KAAI,EAACC,QAAEA,EAAOC,SAAEA,EAAQC,cAAEA,MACzB,MAAMC,EAAUR,EAAkBS,MAAKC,GAAMA,EAAGL,UAAYA,IAK5D,MAAO,wCAAwCA,6CACfC,8BAChBC,UAAsBD,+EACQD,8EAP/B,+CAA+CA,oBAC5DG,EAAU,SAAW,WAChBA,EAAqB,SAAX,kDAST,IAETG,KAAK,GAAG,C,4FCrBb,IAAAC,EAAAf,EAAA,S,8EASOgB,eAAeC,EAAgBC,GACpC,MAAML,EAAKK,EAAEC,OAAOC,QAAQ,wBACtBC,EAAcH,EAAEC,OAAOC,QAAQ,uBACrC,IAAKP,IAAOQ,EAAa,OAEzB,GAAIA,EAAa,CACf,MAAMC,EAAYD,EAAYE,WAAWC,QAAQC,GAgBjD,MAdiB,QADAJ,EAAYG,QAAQE,QAEnCL,EAAYG,QAAQE,OAAS,SAC7BL,EAAYM,YAAc,WAEtBtB,EAAAuB,6BAGFC,QAAQC,IAAI,sBACZZ,EAAEC,OAAOC,QAAQ,mBAAmBW,UAEtCV,EAAYG,QAAQE,OAAS,MAC7BL,EAAYM,YAAc,eAE5B,EAAAK,EAAAC,2BAA0BX,E,CAG5B,MAAMA,EAAYT,EAAGU,WAAWC,QAAQC,GACxC,KAQF,SAAmBS,GACjB,IAAKA,EAAY,OAEAnB,EAAAoB,OACf,uDAC+C,EAAAC,EAAAC,mBAC3CH,kBAGJ,CACEI,OAAQC,IACN,MAAMC,EAAkBD,EAASE,UAEjCD,EACGE,cAAc,yBACdC,iBAAiB,QAASC,EAAAC,mBAC7BL,EACGE,cAAc,gBACdC,iBAAiB,QAASJ,EAASO,OAClCzC,EAAAuB,4BACFY,EACGE,cAAc,0BACdC,iBAAiB,QAASJ,EAASO,MAAM,IAK3CC,M,CAjCPC,WADqB,EAAAC,EAAAC,sBAAqB5B,IACtB6B,O,CACpB,MAAOC,IACP,EAAAC,EAAAC,UAASF,E,gGCtCb,IAAArD,EAAAC,EAAA,S,aAGO,SAASuD,EAAkBC,GAChC,MAAMC,EAAkBC,OAAOC,KAAKH,GAAKI,QAAO/C,GAC9CA,EAAGgD,SAAS,mBAER1D,GAAoB,EAAAJ,EAAAK,qBAAoBC,EAAAC,gBACxCE,QAAEA,EAAOC,SAAEA,EAAQC,cAAEA,EAAaoD,gBAAEA,GAAoBN,EACxD7C,EAAUR,EAAkBS,MAAKC,GAAMA,EAAGL,UAAYA,IAE5D,MAAO,qJAEuCA,mBAC3CG,EAAkB,SAAR,eAETA,EAAqB,SAAX,wFAIHD,qCAEAD,oFAGyBA,8DAG9BgD,EACClD,KAAIwD,GACHP,EAAIO,GACA,wKAG0CP,EAAIO,8BAG9C,OAELjD,KAAK,yGAKPgD,e","sources":["src/js/templates/markupSearchingCocktails.js","src/js/getProducts/getInfoCocktail.js","src/js/templates/markupInfoCoctail.js"],"sourcesContent":["import { getDataLocalStorage } from '../api/localStorageFavcCocktails';\nimport { FAV_COCKTAILS } from '../utils/constans';\n\nexport const markupSearchingCocktails = arrDrinks => {\n  const favoriteCocktails = getDataLocalStorage(FAV_COCKTAILS);\n  return arrDrinks\n    .map(({ idDrink, strDrink, strDrinkThumb }) => {\n      const foundEl = favoriteCocktails.find(el => el.idDrink === idDrink);\n      const btnAdd = `<button class=\"products__btn--add\" data-id=\"${idDrink}\"  data-action=\"${\n        foundEl ? 'remove' : 'add'\n      }\"> ${!foundEl ? 'add to' : 'remove'}  </button>`;\n\n      return `<li  class=\"products__item\" data-id=\"${idDrink}\" >\n          <p class=\"products__name\">${strDrink}</p>\n          <img src=\"${strDrinkThumb}\" alt=${strDrink} class=\"products__img\">\n              <div class=\"products__btns\" data-id=${idDrink} >\n      <button class=\"products__btn--info\" >Learn more</button>\n      ${btnAdd}\n    </div>\n        </li>`;\n    })\n    .join('');\n};\n","import * as basicLightbox from 'basiclightbox';\n\nimport { fetchInfoProductById } from '../api/api';\nimport { markupInfoCoctail } from '../templates/markupInfoCoctail';\nimport { onReject } from '../utils/utils';\nimport { getInfoIngredient } from './getInfoIngredient';\nimport { getProductsInLocalStorage } from '../localStorage/getProductsInLocalStorage';\nimport { checkFavCocktailsIndexFile, windowLocation } from '../utils/constans';\n\nexport async function getInfoCocktail(e) {\n  const el = e.target.closest('.products__btn--info');\n  const elInStorage = e.target.closest('.products__btn--add');\n  if (!el && !elInStorage) return;\n\n  if (elInStorage) {\n    const coctailId = elInStorage.parentNode.dataset.id;\n    const actionEl = elInStorage.dataset.action;\n    if (actionEl === 'add') {\n      elInStorage.dataset.action = 'remove';\n      elInStorage.textContent = 'remove';\n    } else {\n      if (checkFavCocktailsIndexFile) {\n        // /js-team-project/partials/favorite-cocktails.html\n        // /js-team-project/index.html\n        console.log('видаляю з розмітки');\n        e.target.closest('.products__item').remove();\n      }\n      elInStorage.dataset.action = 'add';\n      elInStorage.textContent = 'add to';\n    }\n    getProductsInLocalStorage(coctailId);\n    return;\n  }\n  const coctailId = el.parentNode.dataset.id;\n  try {\n    const result = await fetchInfoProductById(coctailId);\n    onResolve(...result.drinks);\n  } catch (error) {\n    onReject(error);\n  }\n}\n\nfunction onResolve(objProduct) {\n  if (!objProduct) return;\n\n  const instance = basicLightbox.create(\n    `\n      <div class =\"modal  modal__fav--coctails\"> ${markupInfoCoctail(\n        objProduct\n      )} </div>\n    `,\n    {\n      onShow: instance => {\n        const elementsInModal = instance.element();\n\n        elementsInModal\n          .querySelector('.modal__fav--coctails')\n          .addEventListener('click', getInfoIngredient);\n        elementsInModal\n          .querySelector('.modal-close')\n          .addEventListener('click', instance.close);\n        if (checkFavCocktailsIndexFile) {\n          elementsInModal\n            .querySelector('[data-action=\"remove\"]')\n            .addEventListener('click', instance.close);\n        }\n      },\n    }\n  );\n  instance.show();\n}\n","import { getDataLocalStorage } from '../api/localStorageFavcCocktails';\nimport { FAV_COCKTAILS } from '../utils/constans';\n\nexport function markupInfoCoctail(obj) {\n  const keysIngredients = Object.keys(obj).filter(el =>\n    el.includes('strIngredient')\n  );\n  const favoriteCocktails = getDataLocalStorage(FAV_COCKTAILS);\n  const { idDrink, strDrink, strDrinkThumb, strInstructions } = obj;\n  const foundEl = favoriteCocktails.find(el => el.idDrink === idDrink);\n\n  return `<div class=\"product-info modal__infoCocktail\">\n  <button class=\"modal-close\">CLOSE modal</button>\n  <button class=\"products__btn--add\" data-id=\"${idDrink}\" data-action=\"${\n    !foundEl ? 'add' : 'remove'\n  }\">\n   ${!foundEl ? 'add to' : 'remove'}\n  </button>\n  <div class=\"product-info__container\">\n    <img\n      src=\"${strDrinkThumb}\"\n      width=\"100\"\n      alt=\"${strDrink}\"\n      class=\"product-info__img\"\n    />\n    <h4 class=\"product-info__title\">${strDrink}</h4>\n\n    <ul class=\"product-info__list--ingr\">\n      ${keysIngredients\n        .map(key =>\n          obj[key]\n            ? `\n      <li class=\"product-info__item--ing\">\n        <span class=\"product-info__item--span\" > &sext; </span>\n        <a class=\"product-info__item--title\" href=\"#\">${obj[key]}</a>\n      </li>\n      `\n            : null\n        )\n        .join('')}\n      <li class=\"product-info__item--ing\"></li>\n    </ul>\n  </div>\n  <p>instruction</p>\n  <p>${strInstructions}</p>\n</div>`;\n}\n\n// import { getDataLocalStorage } from '../api/localStorageFavcCocktails';\n\n// export function markupInfoCoctail(obj) {\n//   const favoriteCocktails = getDataLocalStorage();\n//   const keysIngredients = Object.keys(obj).filter(el =>\n//     el.includes('strIngredient')\n//   );\n//   const { idDrink, strDrink, strDrinkThumb, strInstructions } = obj;\n//   const foundEl = favoriteCocktails.find(el => el.idDrink === idDrink);\n"],"names":["$eKZEX","parcelRequire","$0f5f1ebcfd7aa1a2$export$c9026dcb6b31ebaa","arrDrinks","favoriteCocktails","getDataLocalStorage","$hhykh","FAV_COCKTAILS","map","idDrink","strDrink","strDrinkThumb","foundEl","find","el","join","$9B8F0","async","$8a0fa0434dba84c1$export$e5d3d07a2f819327","e","target","closest","elInStorage","coctailId","parentNode","dataset","id","action","textContent","checkFavCocktailsIndexFile","console","log","remove","$7YQeJ","getProductsInLocalStorage","objProduct","create","$3Kw4o","markupInfoCoctail","onShow","instance","elementsInModal","element","querySelector","addEventListener","$jWXoP","getInfoIngredient","close","show","$8a0fa0434dba84c1$var$onResolve","$4emys","fetchInfoProductById","drinks","error","$jXDaJ","onReject","$2bae8b66343fc402$export$c737d3df9693e6f5","obj","keysIngredients","Object","keys","filter","includes","strInstructions","key"],"version":3,"file":"index.1c71708d.js.map"}