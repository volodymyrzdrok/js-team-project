{"mappings":"6sBAAA,IAAAA,EAAAC,EAAA,S,iHAQsBC,EAAgBC,G,OAAhBC,EAAeC,MAAAC,KAAAC,U,UAAfH,I,OAAAA,EAAfI,EAAAR,EAAA,CAAAQ,EAAAC,GAAAC,MAAA,SAAAC,EAA+BR,G,IAC9BS,EACAC,EAQAC,E,qEATAF,EAAaT,EAAEY,OAAOC,QAAQ,+BAC9BH,EAAiBV,EAAEY,OAAOC,QAAQ,6BAEnCJ,GAAeC,EAAc,C,oDAC9BA,EAAc,C,sBAChB,EAAAI,EAAAC,6BAA4BL,G,iCAIxBC,EAAaF,EAAWO,QAAQC,W,oBAGjB,EAAAC,EAAAC,sBAAqBR,G,QACxCS,EADUC,EAAAC,M,kDAGVC,QAAQC,IAAGH,EAAAI,I,0DAhBOxB,EAAeC,MAAAC,KAAAC,U,CAoBrC,SAASgB,EAAUM,GACAC,EAAAC,QAAqB,EAAAC,EAAAC,iBAAgBJ,GAAO,CAC3DK,OAAQ,SAAAC,GACN,IAAMC,EAAYD,EAASE,UAC3BC,EAAAC,KAAKC,QAAQC,MAAMC,SAAW,SAE9BN,EACGO,cAAc,oBACdC,iBAAiB,QAASC,EAAAC,kBAC7BV,EACGO,cAAc,+BACdC,iBAAiB,QAAST,EAASY,OAClCC,EAAAC,4BACFb,EACGO,cAAc,8BACdC,iBAAiB,QAAST,EAASY,M,EAG1CG,QAAS,WACPZ,EAAAC,KAAKC,QAAQC,MAAMC,SAAW,M,IAGzBS,M","sources":["src/js/modals/modalInfoCoctail.js"],"sourcesContent":["import { refs } from '../refs/refs';\nimport { fetchInfoProductById } from '../api/api';\nimport { markupModalInfo } from '../templates/markupInfoCoctail';\nimport * as basicLightbox from 'basiclightbox';\nimport { modalIngredients } from './ modalInfoIngredient';\nimport { changeProductInLocalStorage } from '../localStorage/getProductsInLocalStorage';\nimport { checkFavCocktailsIndexFile } from '../utils/constans';\n\nexport async function renderModalCard(e) {\n  const elBtnLearn = e.target.closest('.products__card-btns--learn');\n  const elBtnToStorage = e.target.closest('.products__card-btns--add');\n\n  if (!elBtnLearn && !elBtnToStorage) return;\n  if (elBtnToStorage) {\n    changeProductInLocalStorage(elBtnToStorage);\n    return;\n  }\n\n  const cocktailId = elBtnLearn.dataset.idbtnlearn;\n\n  try {\n    const data = await fetchInfoProductById(cocktailId);\n    openModal(data);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction openModal(data) {\n  const instance = basicLightbox.create(markupModalInfo(data), {\n    onShow: instance => {\n      const elInModal = instance.element();\n      refs.bodyRef.style.overflow = 'hidden';\n\n      elInModal\n        .querySelector('.cocktails-modal')\n        .addEventListener('click', modalIngredients);\n      elInModal\n        .querySelector('.cocktails-modal__close-btn')\n        .addEventListener('click', instance.close);\n      if (checkFavCocktailsIndexFile) {\n        elInModal\n          .querySelector('.cocktails-modal__main-btn')\n          .addEventListener('click', instance.close);\n      }\n    },\n    onClose: () => {\n      refs.bodyRef.style.overflow = 'auto';\n    },\n  });\n  instance.show();\n}\n"],"names":["$bpxeT","parcelRequire","$0fd874a60b7fb706$export$a3e6c44bf8af687b","e","$0fd874a60b7fb706$var$_renderModalCard","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","elBtnLearn","elBtnToStorage","cocktailId","target","closest","$kAFNS","changeProductInLocalStorage","dataset","idbtnlearn","$1X4Nb","fetchInfoProductById","$0fd874a60b7fb706$var$openModal","_ctx","sent","console","log","t0","data","$dyT35","create","$jPJ3W","markupModalInfo","onShow","instance","elInModal","element","$cqmI4","refs","bodyRef","style","overflow","querySelector","addEventListener","$88vlq","modalIngredients","close","$9l38W","checkFavCocktailsIndexFile","onClose","show"],"version":3,"file":"index.702ccece.js.map"}